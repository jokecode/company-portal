### 本地打包docker镜像
```shell
docker-compose up -d

# 或者
docker-compose build --no-cache

```

### 本地导出`*.tar`镜像
```shell
docker save -o gdi_web0.0.8.tar gdi_web:0.0.8
```

### 上传`*.tar`镜像到服务器


### 在服务器上解压`*.tar`镜像
```shell
cd [镜像所在目录]
sudo docker load < gdi_web0.0.8.tar

# 查看镜像是否解压成功
sudo docker images

```

### 停止服务器上docker容器
```shell
# 停止所有容器
docker stop $(docker ps -a -q)

# 查看正在运行的容器
docker ps
# 查看所有容器
docker ps -a

# 停止
docker stop [容器id]

```

### 运行docker服务
```shell
# 进入docker-compose.yml所在目录
cd /opt/gdi-site/
```

```shell
# 修改docker-compose.yml目录中镜像版本信息
version: "3.3"

services:
  gdi_web:
    # 开发环境 - 放开下方注释
    #build:
    #  context: .
    #  dockerfile: Dockerfile
    container_name: gdi_web
    # 生产环境/[生产环境/开发环境]需要指定编译后的版本 - 放开下方注释
    image: gdi_web:0.0.8
    restart: unless-stopped
    environment:
      TZ: Asia/Shanghai # 指定时区
    ports:
      - 6180:3000
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

```

```shell
# 运行容器
sudo docker-compose up -d

# 查看容器运行状态
sudo docker ps

```